(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[362],{389:(e,t,s)=>{Promise.resolve().then(s.bind(s,3140))},3140:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Q});var r=s(5155),a=s(9137),n=s.n(a),l=s(2115),i=s(5695),c=s(7428);function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=Math.floor(Date.now()/1e3);return Array(e).fill(0).map((s,r)=>{let a=(e-r)*3600,n=3677e-8*(.5-Math.random()),l=.007354+n*(r-1)/e,i=.007354+n*r/e,c=Math.max(l,i)*(1+.02*Math.random()),o=Math.min(l,i)*(1-.02*Math.random());return{timestamp:(t-a)*1e3,open:l,high:c,low:o,close:i,volume:100+2e3*Math.random()}})}function d(e){let{darkMode:t,tokenAddress:s="0xtoken",tokenChain:a="eth",interval:i="1h",subIndicator:d="VOL",onDataLoaded:x}=e,m=(0,l.useRef)(null),h=(0,l.useRef)(null),[u,g]=(0,l.useState)([]),[p,b]=(0,l.useState)(!1),[f,v]=(0,l.useState)(null),[j,y]=(0,l.useState)(0),[N,w]=(0,l.useState)(null),k={grid:{horizontal:{color:"#292929"},vertical:{color:"#292929"}},candle:{bar:{upColor:"#0ecb81",downColor:"#f6465d",noChangeColor:"#888888"},tooltip:{show:!0,custom:[]},priceMark:{high:{show:!0},low:{show:!0},last:{show:!0}}},xAxis:{axisLine:{color:"#292929"},tickLine:{show:!0},tickText:{show:!0,size:11}},yAxis:{axisLine:{color:"#292929"},tickLine:{show:!0},tickText:{show:!0,size:11}},indicator:{text:{show:!0,size:11},line:{colors:["#FF9600","#9D65C9","#2196F3"]},tooltip:{show:!0,custom:[]}}},_={grid:{horizontal:{color:"#EDEDED"},vertical:{color:"#EDEDED"}},candle:{bar:{upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#888888"},tooltip:{show:!0,custom:[]},priceMark:{high:{show:!0},low:{show:!0},last:{show:!0}}},xAxis:{axisLine:{color:"#EDEDED"},tickLine:{show:!0},tickText:{show:!0,size:11}},yAxis:{axisLine:{color:"#EDEDED"},tickLine:{show:!0},tickText:{show:!0,size:11}},indicator:{text:{show:!0,size:11},line:{colors:["#FF9600","#9D65C9","#2196F3"]},tooltip:{show:!0,custom:[]}}},A=async()=>{if(!s||!a||"0xtoken"===s){console.log("Skipping API request - missing address or chain");let e=o(100);g(e),h.current&&h.current.applyNewData(e),x&&x();return}b(!0),v(null);try{let e={"1m":240,"5m":240,"15m":192,"1h":168,"4h":168,"1d":120,"1w":104}[i]||120;try{console.log("请求K线数据: ".concat(s," ").concat(a," ").concat(i));let t=await fetch("/api/token-kline?address=".concat(encodeURIComponent(s),"&chain=").concat(encodeURIComponent(a),"&interval=").concat(i,"&limit=").concat(e),{signal:AbortSignal.timeout(1e4)});if(!t.ok)throw Error("API error: ".concat(t.status));let r=await t.json();if(r&&r.success&&r.klines&&r.klines.length>0){console.log("成功获取K线数据: ".concat(r.klines.length,"条"));let e=r.klines.map(e=>{let t=e.timestamp;return t<1e10&&(t*=1e3),{timestamp:t,open:parseFloat(e.open),high:parseFloat(e.high),low:parseFloat(e.low),close:parseFloat(e.close),volume:parseFloat(e.volume||"0")}});if(e.sort((e,t)=>e.timestamp-t.timestamp),e.length>0){let t=e.flatMap(e=>[e.high,e.low]),s=Math.min(...t),r=Math.max(...t);w({min:s,max:r})}g(e),h.current&&(h.current.applyNewData(e),F(h.current,i,e)),y(0),x&&x()}else throw console.log("API返回成功但无K线数据，使用模拟数据"),Error("未获得K线数据")}catch(s){console.error("获取K线数据失败:",s),console.log("使用客户端生成的模拟数据");let t=o(e);g(t),h.current&&(h.current.applyNewData(t),F(h.current,i,t)),x&&x(),v(null)}}catch(t){console.error("K线图处理错误:",t);let e=o(100);g(e),h.current&&(h.current.applyNewData(e),F(h.current,i,e)),x&&x(),v(null)}finally{b(!1)}},F=(e,t,s)=>{if(!s||0===s.length)return;let r=s.flatMap(e=>[e.high,e.low]),a=Math.min(...r),n=Math.max(...r),l=n-a,i=l/((n+a)/2);console.log("价格范围: ".concat(a," - ").concat(n,", 波动率: ").concat((100*i).toFixed(2),"%"));try{let s=S(a);if("1m"===t||"5m"===t){let r=l*(i<.01?.2:i<.05?.5:1),c=Math.max(0,a-r);console.log("为".concat(t,"设置Y轴范围: ").concat(c," - ").concat(n+r));try{e.setPriceVolumePrecision(s,0)}catch(e){console.error("设置价格精度失败:",e)}try{C(e,"1m"===t?8:6)}catch(e){console.error("设置蜡烛宽度失败:",e)}}else if("15m"===t||"1h"===t)try{e.setPriceVolumePrecision(s,0),C(e,5)}catch(e){console.error("设置中等时间周期样式失败:",e)}else try{e.setPriceVolumePrecision(s,0),C(e,4)}catch(e){console.error("设置长时间周期样式失败:",e)}E(t)}catch(e){console.error("优化图表显示失败:",e)}},C=(e,t)=>{E(t.toString())},S=e=>e>=1e3?0:e>=100?1:e>=10?2:e>=1?4:e>=.1?5:e>=.01?6:e>=.001?7:e>=1e-4?8:9,E=e=>{let t;if(t=isNaN(Number(e))?"1m"===e?"10px":"5m"===e?"8px":"15m"===e?"7px":"1h"===e?"6px":"4h"===e?"5px":"4px":"".concat(e,"px"),"undefined"!=typeof document){let s="candle-style",r=document.getElementById(s);r||((r=document.createElement("style")).id=s,document.head.appendChild(r));let a="1m"===e||"5m"===e?"2px":"1.5px";r.innerHTML="\n        .klinecharts-candle-pane .klinecharts-candle-bar {\n          width: ".concat(t," !important;\n          stroke-width: ").concat(a," !important;\n        }\n        \n        .klinecharts-candlestick-bar {\n          stroke-width: ").concat(a," !important;\n        }\n      ")}},L=e=>{try{console.log("开始重置指标，当前选中副图:",d);let t="vol_pane",s="macd_pane",r="kdj_pane",a="rsi_pane";try{e.removeIndicator("VOL",t)}catch(e){}try{e.removeIndicator("MACD",s)}catch(e){}try{e.removeIndicator("KDJ",r)}catch(e){}try{e.removeIndicator("RSI",a)}catch(e){}try{e.removeIndicator("BOLL","boll_pane")}catch(e){}try{e.removeIndicator("VOL")}catch(e){}try{e.removeIndicator("MACD")}catch(e){}try{e.removeIndicator("KDJ")}catch(e){}try{e.removeIndicator("RSI")}catch(e){}try{e.removeIndicator("BOLL")}catch(e){}e.createIndicator("MA",!1,{id:"candle_pane",showName:!0,showParams:!0,showTooltip:!0}),setTimeout(()=>{try{"VOL"===d?(console.log("添加VOL副图"),e.createIndicator("VOL",!1,{id:t,height:80})):"MACD"===d?(console.log("添加MACD副图"),e.createIndicator("MACD",!1,{id:s,height:80})):"KDJ"===d?(console.log("添加KDJ副图"),e.createIndicator("KDJ",!1,{id:r,height:80})):"RSI"===d?(console.log("添加RSI副图"),e.createIndicator("RSI",!1,{id:a,height:80})):"BOLL"===d&&(console.log("添加BOLL副图"),e.createIndicator("BOLL",!1,{id:"candle_pane",height:"auto"})),e.resize(),u.length>0&&F(e,i,u)}catch(e){console.error("添加副图失败",e)}},100)}catch(e){console.error("处理图表指标失败",e)}};return(0,l.useEffect)(()=>{if(m.current){if(!h.current&&(h.current=(0,c.Ts)(m.current,{infoOptions:{show:!0},tooltip:{show:!0,custom:[]},crosshair:{show:!0},xAxis:{axisLine:{show:!0},tickLine:{show:!0},tickText:{show:!0}},yAxis:{axisLine:{show:!0},tickLine:{show:!0},tickText:{show:!0},position:"right"},candle:{tooltip:{show:!0,custom:[]},priceMark:{high:{show:!0},low:{show:!0},last:{show:!0},mark:{show:!0}},bar:{upColor:t?"#0ecb81":"#26A69A",downColor:t?"#f6465d":"#EF5350",noChangeColor:"#888888",upBorderColor:t?"#0ecb81":"#26A69A",downBorderColor:t?"#f6465d":"#EF5350",noChangeBorderColor:"#888888",upWickColor:t?"#0ecb81":"#26A69A",downWickColor:t?"#f6465d":"#EF5350",noChangeWickColor:"#888888"}},labels:[],overlay:{showInfo:!0},technicalIndicatorParams:{showInfo:!0,tooltip:{show:!0,custom:[]}},grid:{show:!0,horizontal:{show:!0},vertical:{show:!0}},thousandsSeparator:",",candleBarSpace:4,candleBarFullScreen:!1,rightSpace:0,maximumZoomLevel:5,minimumZoomLevel:.2,defaultZoomLevel:1}),h.current&&(h.current.setStyles(t?k:_),L(h.current),h.current.setOffsetRightDistance(0))),s&&a&&"0xtoken"!==s)A();else{let e=o(100);g(e),h.current&&(h.current.applyNewData(e),h.current.setOffsetRightDistance(0))}}return()=>{m.current&&h.current&&((0,c.AS)(m.current),h.current=null)}},[]),(0,l.useEffect)(()=>{h.current&&h.current.setStyles(t?k:_)},[t]),(0,l.useEffect)(()=>{if(h.current&&s&&a&&"0xtoken"!==s){let e=setTimeout(()=>{A(),h.current&&h.current.setOffsetRightDistance(0)},300);return()=>clearTimeout(e)}},[s,a,i]),(0,l.useEffect)(()=>{h.current&&(E(i),("1m"===i||"5m"===i)&&u.length>0&&F(h.current,i,u))},[i]),(0,l.useEffect)(()=>{h.current&&L(h.current)},[d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:n().dynamic([["9260e5539dec2b9",[t?"#333":"#ddd","1m"===i?"1.5px":"1px","1m"===i?"#00e676":t?"#0ecb81":"#26A69A","1m"===i?"#00e676":t?"#0ecb81":"#26A69A","1m"===i?"#ff1744":t?"#f6465d":"#EF5350","1m"===i?"#ff1744":t?"#f6465d":"#EF5350","1m"===i?"2px":"1px"]]])+" w-full h-full relative",children:[p&&(0,r.jsx)("div",{className:n().dynamic([["9260e5539dec2b9",[t?"#333":"#ddd","1m"===i?"1.5px":"1px","1m"===i?"#00e676":t?"#0ecb81":"#26A69A","1m"===i?"#00e676":t?"#0ecb81":"#26A69A","1m"===i?"#ff1744":t?"#f6465d":"#EF5350","1m"===i?"#ff1744":t?"#f6465d":"#EF5350","1m"===i?"2px":"1px"]]])+" absolute inset-0 flex items-center justify-center bg-opacity-50 bg-black z-10",children:(0,r.jsx)("div",{className:n().dynamic([["9260e5539dec2b9",[t?"#333":"#ddd","1m"===i?"1.5px":"1px","1m"===i?"#00e676":t?"#0ecb81":"#26A69A","1m"===i?"#00e676":t?"#0ecb81":"#26A69A","1m"===i?"#ff1744":t?"#f6465d":"#EF5350","1m"===i?"#ff1744":t?"#f6465d":"#EF5350","1m"===i?"2px":"1px"]]])+" animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),f&&(0,r.jsx)("div",{className:n().dynamic([["9260e5539dec2b9",[t?"#333":"#ddd","1m"===i?"1.5px":"1px","1m"===i?"#00e676":t?"#0ecb81":"#26A69A","1m"===i?"#00e676":t?"#0ecb81":"#26A69A","1m"===i?"#ff1744":t?"#f6465d":"#EF5350","1m"===i?"#ff1744":t?"#f6465d":"#EF5350","1m"===i?"2px":"1px"]]])+" absolute inset-0 flex items-center justify-center bg-opacity-50 bg-black z-10",children:(0,r.jsx)("div",{className:n().dynamic([["9260e5539dec2b9",[t?"#333":"#ddd","1m"===i?"1.5px":"1px","1m"===i?"#00e676":t?"#0ecb81":"#26A69A","1m"===i?"#00e676":t?"#0ecb81":"#26A69A","1m"===i?"#ff1744":t?"#f6465d":"#EF5350","1m"===i?"#ff1744":t?"#f6465d":"#EF5350","1m"===i?"2px":"1px"]]])+" bg-red-600 text-white px-4 py-2 rounded-md",children:f})}),(0,r.jsx)("div",{ref:m,style:{height:"100%",minHeight:"300px"},className:n().dynamic([["9260e5539dec2b9",[t?"#333":"#ddd","1m"===i?"1.5px":"1px","1m"===i?"#00e676":t?"#0ecb81":"#26A69A","1m"===i?"#00e676":t?"#0ecb81":"#26A69A","1m"===i?"#ff1744":t?"#f6465d":"#EF5350","1m"===i?"#ff1744":t?"#f6465d":"#EF5350","1m"===i?"2px":"1px"]]])+" w-full h-full"})]}),(0,r.jsx)(n(),{id:"9260e5539dec2b9",dynamic:[t?"#333":"#ddd","1m"===i?"1.5px":"1px","1m"===i?"#00e676":t?"#0ecb81":"#26A69A","1m"===i?"#00e676":t?"#0ecb81":"#26A69A","1m"===i?"#ff1744":t?"#f6465d":"#EF5350","1m"===i?"#ff1744":t?"#f6465d":"#EF5350","1m"===i?"2px":"1px"],children:".klinecharts-candle-pane{height:auto!important;max-height:none!important;min-height:200px!important}.klinecharts-technical-indicator-pane{border-top:1px solid ".concat(t?"#333":"#ddd",";margin-top:0px!important;padding-top:0px!important;height:80px!important;z-index:1!important}.klinecharts-container{z-index:1!important;margin-bottom:0!important}.klinecharts-candle-bar{stroke-width:").concat("1m"===i?"1.5px":"1px","!important}.klinecharts-candle-pane .klinecharts-candle-bar.up{fill:").concat("1m"===i?"#00e676":t?"#0ecb81":"#26A69A","!important;stroke:").concat("1m"===i?"#00e676":t?"#0ecb81":"#26A69A","!important}.klinecharts-candle-pane .klinecharts-candle-bar.down{fill:").concat("1m"===i?"#ff1744":t?"#f6465d":"#EF5350","!important;stroke:").concat("1m"===i?"#ff1744":t?"#f6465d":"#EF5350","!important}.klinecharts-candlestick-bar{stroke-width:").concat("1m"===i?"2px":"1px","!important}@media(max-width:768px){.klinecharts-candle-pane{height:auto!important;min-height:200px!important}.klinecharts-text,.klinecharts-y-axis-tick-text,.klinecharts-x-axis-tick-text{font-size:10px!important}.klinecharts-technical-indicator-pane{height:80px!important;margin-bottom:0!important;padding-bottom:0!important}}.klinecharts-tooltip-content .tooltip-data-container .item .title,.klinecharts-indicator-tooltip-content .tooltip-data-container .item .title{display:none!important}")})]})}var x=s(9009),m=s(1362),h=s(7168),u=s(7550),g=s(2098),p=s(3509),b=s(3999),f=s(9515),v=s(6766),j=s(4503),y=s(6471),N=s(8482),w=s(5196),k=s(4357),_=s(3786),A=s(7863),F=s(6474),C=s(9946);let S=(0,C.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function E(e){var t,s,a,n;let{tokenDetails:i,isLoading:c,darkMode:o,chain:d,address:x}=e,[m,u]=(0,l.useState)(!1),[g,p]=(0,l.useState)(!1),[f,v]=(0,l.useState)(null),[j,y]=(0,l.useState)("basic"),[C,E]=(0,l.useState)(!1),L=async()=>{if(x&&d&&!C){E(!0);try{let e=fetch("/api/token-details?address=".concat(x,"&chain=").concat(d)),t=fetch("/api/token-transactions?address=".concat(x,"&chain=").concat(d,"&limit=20")),s=fetch("/api/token-holders?address=".concat(x,"&chain=").concat(d)),[r,a,n]=await Promise.all([e,t,s]);try{let e=await r.json();e.success&&v(e)}catch(e){console.error("Error processing token details:",e)}try{let e=await a.json();e.success&&v(t=>({...t,transactions:e.transactions||[]}))}catch(e){console.error("Error processing transactions:",e)}try{let e=await n.json();e.success&&v(t=>({...t,holders:e.holders||[]}))}catch(e){console.error("Error processing holders:",e)}}catch(e){console.error("Error in parallel data fetching:",e)}}};(0,l.useEffect)(()=>{!g||f||C||L()},[g,x,d,f,C]);let D=e=>{if(null==e)return"N/A";if(0===e)return"0";let t=["","K","M","B","T"],s=Math.floor(Math.log10(e)/3),r=t[Math.min(s,t.length-1)];return(e/Math.pow(10,3*s)).toFixed(1)+r},M=()=>(({ethereum:"https://etherscan.io/token/",bsc:"https://bscscan.com/token/",polygon:"https://polygonscan.com/token/",arbitrum:"https://arbiscan.io/token/",optimism:"https://optimistic.etherscan.io/token/",avalanche:"https://snowtrace.io/token/",solana:"https://solscan.io/token/",base:"https://basescan.org/token/"})[d]||"https://etherscan.io/token/")+x;return c?null:((()=>{var e,t;if(!i)return;let s=(null===(e=i.tokenInfo)||void 0===e?void 0:e.logo_url)||i.logo||(null===(t=i.tokenInfo)||void 0===t?void 0:t.logo)||"";return s&&""!==s.trim()?s:null})(),(0,r.jsxs)(N.Zp,{className:(0,b.cn)("p-2 w-full overflow-hidden transition-all",o?"bg-gray-900 border-gray-800":"bg-white border-gray-200"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 mb-2",children:[(0,r.jsxs)(h.$,{variant:"outline",size:"sm",className:(0,b.cn)("text-xs h-6 gap-1 flex-grow justify-between truncate max-w-full",o?"bg-gray-800 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"),onClick:()=>{x&&(navigator.clipboard.writeText(x),u(!0),setTimeout(()=>u(!1),2e3))},children:[(0,r.jsx)("span",{className:"truncate text-[9px]",children:x?x.slice(0,6)+"..."+x.slice(-4):"Address unavailable"}),m?(0,r.jsx)(w.A,{className:"h-3 w-3 text-green-500 flex-shrink-0"}):(0,r.jsx)(k.A,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"})]}),(0,r.jsx)(h.$,{variant:"outline",size:"sm",className:(0,b.cn)("w-6 h-6 p-0",o?"bg-gray-800 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"),onClick:()=>window.open(M(),"_blank"),title:"View on explorer",children:(0,r.jsx)(_.A,{className:"h-3 w-3"})}),(0,r.jsx)(h.$,{variant:"outline",size:"sm",className:(0,b.cn)("w-6 h-6 p-0",o?"bg-gray-800 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"),onClick:()=>p(!g),title:g?"Collapse":"Expand",children:g?(0,r.jsx)(A.A,{className:"h-3 w-3"}):(0,r.jsx)(F.A,{className:"h-3 w-3"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"交易量"}),(0,r.jsxs)("div",{className:"text-[9px] font-medium",children:["$",D((null==i?void 0:i.volume24h)||0)]})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"市值"}),(0,r.jsxs)("div",{className:"text-[9px] font-medium",children:["$",D((null==i?void 0:i.marketCap)||0)]})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"总供应量"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:D((null==i?void 0:i.totalSupply)||0)})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"持有人数"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:D((null==i?void 0:i.holders)||0)})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"流动性"}),(0,r.jsxs)("div",{className:"text-[9px] font-medium",children:["$",D((null==i?void 0:i.lpAmount)||0)]})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"锁仓比例"}),(0,r.jsxs)("div",{className:"text-[9px] font-medium",children:[((null==i?void 0:i.lockPercent)||0).toFixed(1),"%"]})]})]}),g&&(0,r.jsxs)("div",{className:"mt-2 pt-2 border-t border-gray-700",children:[f&&(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-2",children:[(0,r.jsx)(h.$,{variant:"outline",size:"sm",className:(0,b.cn)("text-[9px] h-6 px-3","basic"===j?o?"bg-blue-800 text-white":"bg-blue-100 text-blue-800":o?"bg-gray-800":"bg-gray-100"),onClick:()=>y("basic"),children:"基本信息"}),(0,r.jsxs)(h.$,{variant:"outline",size:"sm",className:(0,b.cn)("text-[9px] h-6 px-3 flex items-center gap-1","social"===j?o?"bg-blue-800 text-white":"bg-blue-100 text-blue-800":o?"bg-gray-800":"bg-gray-100"),onClick:()=>y("social"),children:["社交信息",(0,r.jsx)(S,{className:"h-3 w-3"})]})]}),f&&(0,r.jsxs)(r.Fragment,{children:["basic"===j&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-1",children:[(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"代币名称"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:(null==i?void 0:null===(t=i.tokenInfo)||void 0===t?void 0:t.name)||(null==i?void 0:i.name)||(null==f?void 0:f.name)||"N/A"})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"代币符号"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:(null==i?void 0:null===(s=i.tokenInfo)||void 0===s?void 0:s.symbol)||(null==i?void 0:i.symbol)||(null==f?void 0:f.symbol)||"N/A"})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"所在链"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:(null==i?void 0:i.chain)||(null==f?void 0:f.chain)||d.toUpperCase()})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"当前价格"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:null==(a=(null==i?void 0:i.price)||(null==f?void 0:f.price)||0)?"N/A":0===a?"$0.00":a<.01?"$"+a.toFixed(8):"$"+a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"24h涨跌幅"}),(0,r.jsx)("div",{className:(0,b.cn)("text-[9px] font-medium",((null==i?void 0:i.priceChange)||(null==f?void 0:f.priceChange)||0)>=0?"text-green-500":"text-red-500"),children:(e=>{if(null==e)return"N/A";let t=e>=0?"+":"";return"".concat(t).concat(e.toFixed(2),"%")})((null==i?void 0:i.priceChange)||(null==f?void 0:f.priceChange)||0)})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"创建时间"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:(n=(null==i?void 0:i.created_at)||(null==f?void 0:f.created_at)||0)?new Date(1e3*n).toLocaleDateString():"N/A"})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"总供应量"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:D((null==i?void 0:i.totalSupply)||(null==f?void 0:f.totalSupply)||0)})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"持有人数"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:D((null==i?void 0:i.holders)||(null==f?void 0:f.holders)||0)})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"市值"}),(0,r.jsxs)("div",{className:"text-[9px] font-medium",children:["$",D((null==i?void 0:i.marketCap)||(null==f?void 0:f.marketCap)||0)]})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"合约地址"}),(0,r.jsx)("div",{className:"text-[9px] font-medium truncate",children:(null==x?void 0:x.slice(0,6))+"..."+(null==x?void 0:x.slice(-4))})]}),(null==f?void 0:f.burn_amount)!==void 0&&(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"燃烧数量"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:D((null==f?void 0:f.burn_amount)||0)})]}),(null==f?void 0:f.locked_percent)!==void 0&&(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"锁仓比例"}),(0,r.jsxs)("div",{className:"text-[9px] font-medium",children:[((null==f?void 0:f.locked_percent)||0).toFixed(6),"%"]})]}),(null==f?void 0:f.risk_level)!==void 0&&(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"风险等级"}),(0,r.jsxs)("div",{className:(0,b.cn)("text-[9px] font-medium",f.risk_level>2?"text-red-500":f.risk_level>1?"text-yellow-500":"text-green-500"),children:[f.risk_level,"/3"]})]}),(null==f?void 0:f.risk_score)!==void 0&&(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"风险评分"}),(0,r.jsxs)("div",{className:(0,b.cn)("text-[9px] font-medium",parseInt(String(f.risk_score))>70?"text-red-500":parseInt(String(f.risk_score))>30?"text-yellow-500":"text-green-500"),children:[f.risk_score,"/100"]})]})]}),"social"===j&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-1",children:[(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"网站"}),(0,r.jsx)("div",{className:"text-[9px] font-medium truncate",children:(null==i?void 0:i.website)||(null==f?void 0:f.website)?(0,r.jsxs)("a",{href:(null==i?void 0:i.website)||(null==f?void 0:f.website),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline truncate block",children:[((null==i?void 0:i.website)||(null==f?void 0:f.website)||"").replace(/https?:\/\//i,"").slice(0,15),"..."]}):"N/A"})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"Twitter"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:(null==i?void 0:i.twitter)||(null==f?void 0:f.twitter)?(0,r.jsx)("a",{href:(null==i?void 0:i.twitter)||(null==f?void 0:f.twitter),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"查看"}):"N/A"})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"Telegram"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:(null==i?void 0:i.telegram)||(null==f?void 0:f.telegram)?(0,r.jsx)("a",{href:(null==i?void 0:i.telegram)||(null==f?void 0:f.telegram),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"查看"}):"N/A"})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"Discord"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:(null==f?void 0:f.discord)?(0,r.jsx)("a",{href:f.discord,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"查看"}):"N/A"})]}),(null==f?void 0:f.github)&&(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"GitHub"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:(0,r.jsx)("a",{href:f.github,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"查看"})})]}),((null==f?void 0:f.blog)||(null==f?void 0:f.medium))&&(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"博客"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:(0,r.jsx)("a",{href:f.blog||f.medium,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"查看"})})]}),(null==f?void 0:f.reddit)&&(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"Reddit"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:(0,r.jsx)("a",{href:f.reddit,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"查看"})})]}),(null==f?void 0:f.whitepaper)&&(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"白皮书"}),(0,r.jsx)("div",{className:"text-[9px] font-medium",children:(0,r.jsx)("a",{href:f.whitepaper,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"查看"})})]}),(null==f?void 0:f.description)&&(0,r.jsxs)("div",{className:(0,b.cn)("p-1 rounded col-span-2",o?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[8px] text-muted-foreground",children:"代币描述"}),(0,r.jsx)("div",{className:"text-[9px] font-medium max-h-20 overflow-y-auto",children:f.description})]})]})]})]})]}))}var L=s(9230),D=s(6874),M=s.n(D),I=s(4964);let z=(0,C.A)("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);var O=s(3904),P=s(1154);function $(e){let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,b.cn)("animate-pulse rounded-md bg-muted",t),...s})}let R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return e?e.length<=t+s+3?e:e.slice(0,t)+"..."+e.slice(-s):""},T=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let t="string"==typeof e?e.replace(/,/g,""):String(e),s=parseFloat(t);if(isNaN(s))return"0";if(s>=1e12)return(s/1e12).toFixed(2)+"T";if(s>=1e9)return(s/1e9).toFixed(2)+"B";if(s>=1e6)return(s/1e6).toFixed(2)+"M";if(s>=1e3)return(s/1e3).toFixed(2)+"K";if(0===s)return"0";if(s<1e-7)return s.toExponential(6).replace("e-","E-");if(s<1e-4)return s.toFixed(8);if(s<.01)return s.toFixed(6);if(s<1)return s.toFixed(4);return s.toLocaleString(void 0,{maximumFractionDigits:4,minimumFractionDigits:0})}catch(t){return console.error("格式化数量失败:",t),String(e)}},K=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;try{if("string"==typeof e&&e.includes("%"))return e;let s="string"==typeof e?parseFloat(e):e;if(isNaN(s))return"0.00%";if(s<1&&s>-1&&!String(e).includes("%"))return(100*s).toFixed(t)+"%";return s.toFixed(t)+"%"}catch(e){return"0.00%"}},V=(e,t)=>(({ethereum:"https://etherscan.io/address/",eth:"https://etherscan.io/address/",bsc:"https://bscscan.com/address/",polygon:"https://polygonscan.com/address/",arbitrum:"https://arbiscan.io/address/",optimism:"https://optimistic.etherscan.io/address/",avalanche:"https://snowtrace.io/address/",solana:"https://solscan.io/address/",base:"https://basescan.org/address/"})[t.toLowerCase()]||"https://etherscan.io/address/")+e;function B(e){let{holders:t,isLoading:s,darkMode:a,chain:n,onRefresh:l}=e;return(0,r.jsxs)("div",{className:"overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsxs)("h3",{className:"text-sm font-medium flex items-center",children:["持币分布",s&&(0,r.jsx)(P.A,{className:"ml-2 h-3.5 w-3.5 animate-spin text-blue-500"})]}),(0,r.jsxs)(h.$,{variant:"ghost",size:"sm",onClick:l,disabled:s,className:"h-7 px-2 text-xs",children:[(0,r.jsx)(O.A,{className:"h-3 w-3 mr-1"}),"刷新"]})]}),(0,r.jsx)("div",{className:(0,b.cn)("rounded-md overflow-hidden border",a?"border-gray-800":"border-gray-200"),children:s?(0,r.jsx)("div",{className:"space-y-2",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-2",children:[(0,r.jsx)($,{className:"h-6 w-24"}),(0,r.jsx)($,{className:"h-6 w-16"}),(0,r.jsx)($,{className:"h-6 w-20"})]},t))}):0===t.length?(0,r.jsxs)("div",{className:"py-8 text-center",children:[(0,r.jsx)("p",{className:(0,b.cn)("mb-4 text-sm",a?"text-gray-400":"text-gray-600"),children:"点击按钮加载持币排名数据"}),(0,r.jsxs)(h.$,{variant:"outline",size:"sm",onClick:l,className:(0,b.cn)("mx-auto flex items-center gap-1 px-4 py-2",a?"border-blue-800 bg-blue-900/20 text-blue-400 hover:bg-blue-800/30":"border-blue-200 bg-blue-50 text-blue-700 hover:bg-blue-100"),children:[(0,r.jsx)(O.A,{className:"h-3.5 w-3.5"}),"获取持币排名"]})]}):(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:(0,b.cn)("grid grid-cols-4 text-xs py-2 px-3 font-medium","border-b dark:border-gray-800",a?"text-gray-400":"text-gray-500"),children:[(0,r.jsx)("div",{children:"持币人"}),(0,r.jsx)("div",{className:"text-center",children:"数量"}),(0,r.jsx)("div",{className:"text-center",children:"持有比例"}),(0,r.jsx)("div",{className:"text-right",children:"操作"})]}),t.map((e,t)=>{let s=e.address||e.wallet||"",l=e.quantity||e.balance||"0",i=e.percent||"0";return(0,r.jsxs)("div",{className:(0,b.cn)("grid grid-cols-4 text-sm py-2 px-3 items-center",t%2==0?a?"bg-gray-800/30":"bg-gray-50/80":""),children:[(0,r.jsx)("div",{className:"font-mono text-xs overflow-hidden text-ellipsis",children:R(s)}),(0,r.jsx)("div",{className:"text-center",children:T(l)}),(0,r.jsx)("div",{className:"text-center",children:K(i)}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsx)("a",{href:V(s,n),target:"_blank",rel:"noopener noreferrer",className:(0,b.cn)("inline-flex items-center justify-center w-7 h-7 rounded-full","hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"),children:(0,r.jsx)(_.A,{className:"h-3.5 w-3.5"})})})]},s||t)})]})})]})}var J=s(5339);let q=(0,C.A)("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);var U=s(5525);let Z=(0,C.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),G=(0,C.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function H(e){let{riskReport:t,isLoading:s,darkMode:a,onLoadRiskReport:n}=e,[i,c]=(0,l.useState)(!1),[o,d]=(0,l.useState)(null),x=e=>{o===e?d(null):d(e)},m=e=>e>=70?{level:"高风险",color:"text-red-500",bg:a?"bg-red-900/20":"bg-red-50"}:e>=50?{level:"中风险",color:"text-yellow-500",bg:a?"bg-yellow-900/20":"bg-yellow-50"}:e>=30?{level:"低风险",color:"text-blue-500",bg:a?"bg-blue-900/20":"bg-blue-50"}:{level:"安全",color:"text-green-500",bg:a?"bg-green-900/20":"bg-green-50"},u=()=>{if(!t)return[];let e=["token_name","token_symbol","risk_score","is_open_source","buy_tax","sell_tax","is_honeypot","hidden_owner","risk_reasons","update_time","creator_address","creator_percent","creator_balance","owner","owner_balance","owner_percent","has_mint_method","has_black_method","has_white_method","token","chain","decimal","status","msg","data_type"];return Object.entries(t).filter(t=>{let[s,r]=t;return!e.includes(s)&&!(null==r||Array.isArray(r)&&0===r.length)&&("object"!=typeof r||!!Array.isArray(r)||0!==Object.keys(r).length)}).sort((e,t)=>{let[s]=e,[r]=t;return s.localeCompare(r)})},g=e=>({analysis_big_wallet:"大额钱包分析",analysis_creator_gt_5percent:"创建者持有超5%",analysis_lp_creator_gt_5percent:"创建者LP持有超5%",analysis_lp_current_adequate:"当前LP充足",analysis_lp_current_volume:"当前LP数量",analysis_scam_wallet:"诈骗钱包",anti_whale_modifiable:"反鲸鱼可修改",approve_gas:"授权Gas费",big_lp_without_any_lock:"大额LP无锁定",burn_amount:"销毁数量",buy_gas:"买入Gas费",buy_tax:"买入税率",can_take_back_ownership:"可收回所有权",cannot_buy:"无法买入",cannot_sell_all:"无法全部卖出",creator_tx:"创建交易",creator_address:"创建者地址",creator_balance:"创建者余额",creator_percent:"创建者比例",dex:"交易所信息",err_code:"错误代码",err_msg:"错误信息",external_call:"外部调用",has_code:"有合约代码",has_malicious_code:"含恶意代码",has_mint_method:"含铸币功能",has_black_method:"含黑名单",has_white_method:"含白名单",has_owner_removed_risk:"所有者移除风险",holder_analysis:"持有人分析",holders:"持有人数量",honeypot_with_same_creator:"同创建者蜜罐",is_anti_whale:"反鲸鱼机制",is_honeypot:"蜜罐合约",is_in_dex:"在交易所上线",is_open_source:"开源代码",is_proxy:"代理合约",launchpad_token:"发射台代币",lock_amount:"锁仓数量",owner:"所有者",owner_balance:"所有者余额",owner_change_balance:"所有者余额变化",owner_percent:"所有者比例",pair_holders:"交易对持有人",pair_holders_rank:"交易对持有排名",pair_lock_percent:"交易对锁定比例",pair_total:"交易对总量",personal_slippage_modifiable:"个人滑点可修改",platform:"平台",previous_owner:"前任所有者",query_count:"查询次数",risk_score:"风险评分",selfdestruct:"自毁功能",sell_gas:"卖出Gas费",sell_tax:"卖出税率",slippage_modifiable:"滑点可修改",token:"代币地址",token_holders_rank:"代币持有排名",token_lock_percent:"代币锁定比例",token_name:"代币名称",token_symbol:"代币符号",total:"总供应量",trading_cooldown:"交易冷却期",transfer_pausable:"转账可暂停",transfer_tax:"转账税",version:"版本",vote_against:"反对票",vote_support:"支持票"})[e]||e.replace(/_/g," "),p=e=>null==e?"-":!0===e||1===e||"1"===e||"yes"===e||"true"===e?"是":!1===e||0===e||"0"===e||"no"===e||"false"===e?"否":String(e),f=e=>null==e?"-":"boolean"==typeof e||1===e||0===e||"1"===e||"0"===e?p(e):Array.isArray(e)?0===e.length?"-":"object"==typeof e[0]?"[".concat(e.length,"项数据]"):e.join(", "):"object"==typeof e?0===Object.keys(e).length?"-":"{".concat(Object.keys(e).length,"个字段}"):isNaN(Number(e))||"string"==typeof e?String(e):1e-5>Math.abs(Number(e))&&0!==Number(e)?Number(e).toExponential(4):Math.abs(Number(e))>=1e3&&String(e).includes(".")?Number(Number(e).toFixed(4)).toLocaleString("zh-CN"):Number(e).toLocaleString("zh-CN"),v=(e,t)=>Array.isArray(t)?(0,r.jsx)("div",{className:(0,b.cn)("mt-2 p-2 rounded text-xs",a?"bg-gray-900":"bg-gray-50"),children:t.map((e,t)=>"object"==typeof e?(0,r.jsx)("div",{className:(0,b.cn)("mb-2 p-2 border rounded",a?"border-gray-700":"border-gray-200"),children:Object.entries(e).map(e=>{let[t,s]=e;return(0,r.jsxs)("div",{className:"flex justify-between py-1 border-b border-dashed last:border-0",children:[(0,r.jsxs)("span",{className:"font-medium",children:[g(t),":"]}),(0,r.jsx)("span",{className:"font-mono",children:"object"==typeof s?JSON.stringify(s):p(s)})]},t)})},t):(0,r.jsx)("div",{children:p(e)},t))}):"object"==typeof t?(0,r.jsx)("div",{className:(0,b.cn)("mt-2 p-2 rounded text-xs",a?"bg-gray-900":"bg-gray-50"),children:Object.entries(t).map(e=>{let[t,s]=e;return(0,r.jsxs)("div",{className:"flex justify-between py-1 border-b border-dashed last:border-0",children:[(0,r.jsxs)("span",{className:"font-medium",children:[g(t),":"]}),(0,r.jsx)("span",{className:"font-mono",children:"object"==typeof s?JSON.stringify(s):p(s)})]},t)})}):null,j=e=>e>=80?a?"from-red-900 to-red-700":"from-red-600 to-red-400":e>=60?a?"from-orange-900 to-orange-700":"from-orange-600 to-orange-400":e>=40?a?"from-yellow-900 to-yellow-700":"from-yellow-600 to-yellow-400":e>=20?a?"from-blue-900 to-blue-700":"from-blue-600 to-blue-400":a?"from-green-900 to-green-700":"from-green-600 to-green-400";return(0,r.jsxs)("div",{className:"overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsxs)("h3",{className:"text-sm font-medium flex items-center",children:["代币风险评估",s&&(0,r.jsx)("span",{className:"ml-2 flex items-center opacity-80",children:(0,r.jsx)(P.A,{className:"h-3.5 w-3.5 animate-spin transition-all duration-300 ease-in-out",style:{color:a?"rgba(59, 130, 246, 0.8)":"rgba(37, 99, 235, 0.8)"}})})]}),t&&Object.keys(t).length>0&&(0,r.jsx)(h.$,{variant:"ghost",size:"sm",onClick:n,disabled:s,className:(0,b.cn)("h-7 px-2 text-xs transition-all duration-200",s?a?"opacity-50":"opacity-60":"opacity-100"),children:"更新报告"})]}),(0,r.jsx)("div",{className:(0,b.cn)("rounded-md overflow-hidden border transition-all duration-300",a?"border-gray-800":"border-gray-200"),children:(()=>{if(s)return(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsx)($,{className:(0,b.cn)("h-4 w-32 mb-2",a?"bg-gray-800":"bg-gray-200")}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsx)($,{className:(0,b.cn)("h-16 w-full",a?"bg-gray-800":"bg-gray-200")},t))}),(0,r.jsx)($,{className:(0,b.cn)("h-4 w-32 mb-2",a?"bg-gray-800":"bg-gray-200")}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsx)($,{className:(0,b.cn)("h-16 w-full",a?"bg-gray-800":"bg-gray-200")},t))})]});if(!t||0===Object.keys(t).length)return(0,r.jsxs)("div",{className:"text-center p-8",children:[(0,r.jsx)(J.A,{className:(0,b.cn)("w-12 h-12 mx-auto mb-4",a?"text-gray-600":"text-gray-400")}),(0,r.jsx)("p",{className:(0,b.cn)("mb-6",a?"text-gray-400":"text-gray-600"),children:"点击按钮检测代币风险"}),(0,r.jsx)(h.$,{size:"lg",className:(0,b.cn)("px-6 py-4 transition-all",a?"bg-blue-700 hover:bg-blue-600 text-white":"bg-blue-600 hover:bg-blue-500 text-white"),onClick:n,children:"开始风险检测"})]});let e=u(),l="number"==typeof t.risk_score?t.risk_score:parseInt(t.risk_score||"0"),d=m(l),p=j(l),y=l>=50||1===t.is_honeypot||"1"===t.hidden_owner||1===t.hidden_owner,N=Array.isArray(t.dex)&&t.dex.length>0;return(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:(0,b.cn)("mb-4 rounded-md p-4 flex flex-col items-center justify-center",d.bg),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[l>=50?(0,r.jsx)(q,{className:(0,b.cn)("h-5 w-5",d.color)}):(0,r.jsx)(U.A,{className:(0,b.cn)("h-5 w-5",d.color)}),(0,r.jsx)("h3",{className:(0,b.cn)("text-sm font-medium",d.color),children:d.level})]}),(0,r.jsxs)("div",{className:"w-full max-w-[140px] h-[140px] relative flex items-center justify-center my-2",children:[(0,r.jsx)("div",{className:(0,b.cn)("w-full h-full rounded-full bg-gradient-to-br opacity-20",p)}),(0,r.jsx)("div",{className:(0,b.cn)("absolute top-0 left-0 w-full h-full rounded-full bg-gradient-to-br opacity-30",p),style:{clipPath:"inset(0 ".concat(100-l,"% 0 0)")}}),(0,r.jsxs)("div",{className:"absolute flex flex-col items-center",children:[(0,r.jsx)("span",{className:(0,b.cn)("text-4xl font-bold",d.color),children:l}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:"风险评分"})]})]}),y&&(0,r.jsxs)("div",{className:(0,b.cn)("mt-2 text-xs rounded-full px-3 py-1 flex items-center gap-1",a?"bg-red-900/40 text-red-300":"bg-red-100 text-red-700"),children:[(0,r.jsx)(Z,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"建议谨慎交易此代币"})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium mb-2",children:"基本信息"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{className:(0,b.cn)("p-2 rounded",a?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"代币名称"}),(0,r.jsx)("div",{className:"text-xs",children:t.token_name||"未知"})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-2 rounded",a?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"代币符号"}),(0,r.jsx)("div",{className:"text-xs",children:t.token_symbol||"未知"})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-2 rounded",a?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"合约地址"}),(0,r.jsxs)("div",{className:"text-xs font-mono flex items-center gap-1",children:[(0,r.jsxs)("span",{className:"truncate",children:[(t.token||"").substring(0,10),"..."]}),t.token&&t.chain&&(0,r.jsx)("a",{href:V(t.token,t.chain),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600",children:(0,r.jsx)(_.A,{className:"h-3 w-3"})})]})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-2 rounded",a?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"是否开源"}),(0,r.jsx)("div",{className:(0,b.cn)("text-xs font-medium flex items-center gap-1","1"===t.is_open_source||1===t.is_open_source?"text-green-500":"text-red-500"),children:"1"===t.is_open_source||1===t.is_open_source?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(G,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"是"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(J.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"否"})]})})]})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium mb-2",children:"安全检测"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{className:(0,b.cn)("p-2 rounded",a?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"买入税"}),(0,r.jsxs)("div",{className:(0,b.cn)("text-xs font-medium",parseFloat(t.buy_tax||"0")>10?"text-red-500":parseFloat(t.buy_tax||"0")>5?"text-yellow-500":"text-green-500"),children:[t.buy_tax||"0","%"]})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-2 rounded",a?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"卖出税"}),(0,r.jsxs)("div",{className:(0,b.cn)("text-xs font-medium",parseFloat(t.sell_tax||"0")>10?"text-red-500":parseFloat(t.sell_tax||"0")>5?"text-yellow-500":"text-green-500"),children:[t.sell_tax||"0","%"]})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-2 rounded",a?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"是否蜜罐"}),(0,r.jsx)("div",{className:(0,b.cn)("text-xs font-medium flex items-center gap-1",1===t.is_honeypot?"text-red-500":0===t.is_honeypot?"text-green-500":"text-gray-500"),children:1===t.is_honeypot?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"是"})]}):0===t.is_honeypot?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(G,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"否"})]}):"未检测"})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-2 rounded",a?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"隐藏所有者"}),(0,r.jsx)("div",{className:(0,b.cn)("text-xs font-medium flex items-center gap-1","1"===t.hidden_owner||1===t.hidden_owner?"text-red-500":"text-green-500"),children:"1"===t.hidden_owner||1===t.hidden_owner?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"是"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(G,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"否"})]})})]})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium mb-2",children:"扩展检测"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{className:(0,b.cn)("p-2 rounded",a?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"铸币功能"}),(0,r.jsx)("div",{className:(0,b.cn)("text-xs font-medium flex items-center gap-1",1===t.has_mint_method?"text-red-500":"text-green-500"),children:1===t.has_mint_method?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(J.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"有"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(G,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"无"})]})})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-2 rounded",a?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"黑名单功能"}),(0,r.jsx)("div",{className:(0,b.cn)("text-xs font-medium flex items-center gap-1",1===t.has_black_method?"text-yellow-500":"text-green-500"),children:1===t.has_black_method?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(J.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"有"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(G,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"无"})]})})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-2 rounded",a?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"可暂停交易"}),(0,r.jsx)("div",{className:(0,b.cn)("text-xs font-medium flex items-center gap-1","1"===t.transfer_pausable||1===t.transfer_pausable?"text-red-500":"text-green-500"),children:"1"===t.transfer_pausable||1===t.transfer_pausable?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(J.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"是"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(G,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"否"})]})})]}),(0,r.jsxs)("div",{className:(0,b.cn)("p-2 rounded",a?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"自毁功能"}),(0,r.jsx)("div",{className:(0,b.cn)("text-xs font-medium flex items-center gap-1","1"===t.selfdestruct||1===t.selfdestruct?"text-red-500":"text-green-500"),children:"1"===t.selfdestruct||1===t.selfdestruct?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"有"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(G,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"无"})]})})]})]})]}),t.creator_address&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium mb-2",children:"创建者信息"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,r.jsxs)("div",{className:(0,b.cn)("p-2 rounded",a?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"创建者地址"}),(0,r.jsxs)("div",{className:"text-xs font-mono flex items-center justify-between",children:[(0,r.jsx)("span",{className:"truncate",children:t.creator_address}),t.creator_address&&t.chain&&(0,r.jsx)("a",{href:V(t.creator_address,t.chain),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 ml-1",children:(0,r.jsx)(_.A,{className:"h-3 w-3"})})]})]}),t.creator_percent&&(0,r.jsxs)("div",{className:(0,b.cn)("p-2 rounded",a?"bg-gray-800":"bg-gray-100"),children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"创建者持有比例"}),(0,r.jsxs)("div",{className:"text-xs flex justify-between items-center",children:[(0,r.jsxs)("div",{className:(0,b.cn)("font-medium",parseFloat(t.creator_percent)>20?"text-red-500":parseFloat(t.creator_percent)>10?"text-yellow-500":"text-green-500"),children:[t.creator_percent,"%"]}),t.creator_balance&&(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[t.creator_balance," 枚"]})]})]})]})]}),N&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium mb-2",children:"流动性信息"}),(0,r.jsx)("div",{className:"space-y-2",children:t.dex.map((e,s)=>(0,r.jsx)("div",{className:(0,b.cn)("p-2 rounded border",a?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-200"),children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"交易所"}),(0,r.jsx)("div",{className:"text-xs font-medium",children:e.amm?e.amm.toUpperCase():"未知"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"流动性池"}),(0,r.jsx)("div",{className:"text-xs overflow-hidden text-ellipsis",children:e.name?e.name:"未知"})]}),e.liquidity&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"流动性"}),(0,r.jsx)("div",{className:"text-xs font-medium",children:parseFloat(e.liquidity).toFixed(4)})]}),e.pair&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"交易对地址"}),(0,r.jsxs)("div",{className:"text-xs font-mono flex items-center",children:[(0,r.jsxs)("span",{className:"truncate",children:[e.pair.substring(0,6),"..."]}),t.chain&&(0,r.jsx)("a",{href:V(e.pair,t.chain),target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-blue-500 hover:text-blue-600",children:(0,r.jsx)(_.A,{className:"h-3 w-3"})})]})]})]})},s))}),void 0!==t.pair_lock_percent&&(0,r.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,r.jsx)("div",{className:(0,b.cn)("text-xs rounded-full px-3 py-1",parseFloat(t.pair_lock_percent)>80?a?"bg-green-900/20 text-green-400":"bg-green-100 text-green-700":parseFloat(t.pair_lock_percent)>50?a?"bg-blue-900/20 text-blue-400":"bg-blue-100 text-blue-700":a?"bg-red-900/20 text-red-400":"bg-red-100 text-red-700"),children:(0,r.jsxs)("span",{className:"font-medium",children:["LP锁定率: ",t.pair_lock_percent||"0","%"]})}),1===t.big_lp_without_any_lock&&(0,r.jsxs)("div",{className:(0,b.cn)("text-xs rounded-full px-3 py-1 flex items-center gap-1",a?"bg-red-900/20 text-red-400":"bg-red-100 text-red-700"),children:[(0,r.jsx)(Z,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"大额LP未锁定"})]})]})]}),t.risk_reasons&&t.risk_reasons.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium mb-2",children:"风险提示"}),(0,r.jsx)("div",{className:(0,b.cn)("p-3 rounded-md",a?"bg-red-900/20 text-red-300":"bg-red-50 text-red-800"),children:(0,r.jsx)("ul",{className:"list-disc pl-4 text-xs space-y-1",children:t.risk_reasons.map((e,t)=>(0,r.jsx)("li",{children:e},t))})})]}),e.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("button",{onClick:()=>c(!i),className:(0,b.cn)("flex items-center justify-between w-full text-sm font-medium mb-2","hover:text-blue-500 transition-colors"),children:[(0,r.jsxs)("span",{children:["附加信息 (",e.length,")"]}),i?(0,r.jsx)(A.A,{className:"h-4 w-4"}):(0,r.jsx)(F.A,{className:"h-4 w-4"})]}),i&&(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:e.map(e=>{let[t,s]=e,n="object"==typeof s&&null!==s&&Object.keys(s).length>0||Array.isArray(s)&&s.length>0,l=o===t;return(0,r.jsxs)("div",{className:(0,b.cn)("p-2 rounded",a?"bg-gray-800":"bg-gray-100",l?"col-span-2":""),children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground break-all",children:g(t)}),n?(0,r.jsxs)("div",{className:(0,b.cn)("text-xs font-mono cursor-pointer hover:text-blue-500 transition-colors","flex items-center gap-1"),onClick:()=>x(t),children:[(0,r.jsx)("span",{children:f(s)}),l?(0,r.jsx)(A.A,{className:"h-3 w-3"}):(0,r.jsx)(F.A,{className:"h-3 w-3"})]}):(0,r.jsx)("div",{className:"text-xs font-mono break-all",children:f(s)}),l&&v(t,s)]},t)})})]}),t.update_time&&(0,r.jsxs)("div",{className:"text-[10px] text-muted-foreground text-right",children:["数据更新于: ",new Date(1e3*t.update_time).toLocaleString()]})]})})()})]})}function W(e){let{tokenAddress:t,chain:s,darkMode:a}=e,n=(0,i.useRouter)(),[c,o]=(0,l.useState)([]),[d,x]=(0,l.useState)(null),[m,u]=(0,l.useState)(!1),[g,p]=(0,l.useState)(!1),[v,j]=(0,l.useState)("holders"),y=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t&&s){e&&console.log("正在重试加载持币排名..."),u(!0);try{console.log("正在加载持币排名: tokenAddress=".concat(t,", chain=").concat(s));let e=await (0,f.Ae)(t,s);if(console.log("API返回的持币数据:",e?"长度 ".concat(Array.isArray(e)?e.length:"非数组"):"null"),!Array.isArray(e)){console.error("API返回的持币数据不是数组:",e),o([]);return}o(e)}catch(t){if(console.error("加载持币排名失败:",t),!e){console.log("尝试重新加载持币排名..."),setTimeout(()=>y(!0),2e3);return}o([])}finally{u(!1)}}},w=async()=>{if(t&&s){p(!0);try{console.log("正在加载风险报告: tokenAddress=".concat(t,", chain=").concat(s));let e=await (0,f.NQ)(t,s);if(console.log("API返回的风险数据:",e?"字段数 ".concat(Object.keys(e||{}).length):"null"),e)console.log("风险报告字段列表:",Object.keys(e)),e.risk_score&&console.log("风险评分:",e.risk_score),e.buy_tax&&console.log("买入税率:",e.buy_tax),e.sell_tax&&console.log("卖出税率:",e.sell_tax),e.is_honeypot&&console.log("是否蜜罐:",e.is_honeypot),e.risk_reasons&&console.log("风险原因:",e.risk_reasons);else{console.error("API返回的风险数据为空"),x({});return}x(e)}catch(e){console.error("加载风险报告失败:",e),x({})}finally{p(!1)}}};return(0,l.useEffect)(()=>{},[t,s]),(0,l.useEffect)(()=>{},[v]),(0,r.jsx)(N.Zp,{className:(0,b.cn)("w-full overflow-hidden border mt-2",a?"bg-gray-900 border-gray-800":"bg-white border-gray-200"),children:(0,r.jsxs)(I.tU,{defaultValue:"holders",value:v,onValueChange:j,className:"w-full",children:[(0,r.jsx)("div",{className:(0,b.cn)("border-b",a?"border-gray-800":"border-gray-200"),children:(0,r.jsxs)("div",{className:"flex justify-between items-center px-3 py-2",children:[(0,r.jsxs)(I.j7,{className:(0,b.cn)("rounded-none bg-transparent border-b",a?"border-gray-800":"border-gray-200"),children:[(0,r.jsx)(I.Xi,{value:"holders",className:(0,b.cn)("text-xs py-2 data-[state=active]:border-b-2 data-[state=active]:rounded-none",a?"data-[state=active]:border-blue-500 text-gray-300":"data-[state=active]:border-blue-600 text-gray-700"),children:"持币排名"}),(0,r.jsx)(I.Xi,{value:"risk",className:(0,b.cn)("text-xs py-2 data-[state=active]:border-b-2 data-[state=active]:rounded-none",a?"data-[state=active]:border-blue-500 text-gray-300":"data-[state=active]:border-blue-600 text-gray-700"),children:"风险检测"})]}),(0,r.jsxs)(h.$,{size:"sm",variant:"outline",className:(0,b.cn)("h-8 px-2 gap-1",a?"bg-blue-900/30 hover:bg-blue-800/40 text-blue-400":"bg-blue-50 hover:bg-blue-100 text-blue-700"),onClick:()=>{n.push("/kline?address=".concat(t,"&chain=").concat(s))},children:[(0,r.jsx)(z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"详细K线图"})]})]})}),(0,r.jsx)(I.av,{value:"holders",className:"p-3",children:(0,r.jsx)(B,{holders:c,isLoading:m,darkMode:a,chain:s,onRefresh:y})}),(0,r.jsx)(I.av,{value:"risk",className:"p-3",children:(0,r.jsx)(H,{riskReport:d,isLoading:g,darkMode:a,onLoadRiskReport:w})})]})})}function X(e){let{tokenAddress:t,chain:s,darkMode:a}=e;return(0,r.jsx)(W,{tokenAddress:t,chain:s,darkMode:a})}function Q(){let e=(0,i.useParams)(),t=(0,i.useRouter)(),{resolvedTheme:s,setTheme:a}=(0,m.D)(),c="dark"===s,[o,N]=(0,l.useState)("1h"),[w,k]=(0,l.useState)("1h"),[_,A]=(0,l.useState)(""),[F,C]=(0,l.useState)(""),[S,D]=(0,l.useState)(!1),[I,z]=(0,l.useState)(null),[O,P]=(0,l.useState)(!1),[$,R]=(0,l.useState)(""),[T,K]=(0,l.useState)("..."),[V,B]=(0,l.useState)(""),[J,q]=(0,l.useState)(0),[U,Z]=(0,l.useState)(0),[G,H]=(0,l.useState)("VOL"),W={"1m":"1m","5m":"5m","15m":"15m","1h":"1h","4h":"4h","1d":"1d","1w":"1w"};(0,l.useEffect)(()=>{k(W[o]||"1h")},[o]),(0,l.useEffect)(()=>{e.blockchain&&e.address&&(A(e.blockchain),C(e.address),(async()=>{try{let t=await (0,f.hT)(e.address);if(t&&t.length>0){let s=t.find(t=>t.token.toLowerCase()===e.address.toLowerCase()&&t.chain===e.blockchain)||t[0];K(s.symbol||"..."),B(s.name||""),s.logo_url&&R(s.logo_url)}}catch(e){console.error("快速查询代币失败:",e)}})())},[e]),(0,l.useEffect)(()=>{if(S&&_&&F){let e=setTimeout(()=>{Q()},1e3);return()=>clearTimeout(e)}},[S,_,F]);let Q=async()=>{if(_&&F){P(!0);try{let a=await (0,f.mJ)(F,_);if(console.log("获取到的代币详情:",a),z(a),a){var e,t,s,r;let n=(null===(e=a.tokenInfo)||void 0===e?void 0:e.symbol)||"",l=(null===(t=a.tokenInfo)||void 0===t?void 0:t.name)||"";n&&K(n),l&&B(l),void 0!==a.price&&q(a.price),void 0!==a.priceChange&&Z(a.priceChange);let i=(null===(s=a.tokenInfo)||void 0===s?void 0:s.logo_url)||(null===(r=a.tokenInfo)||void 0===r?void 0:r.logo)||"";i&&""!==i.trim()&&(R(i),console.log("设置代币Logo URL:",i))}}catch(e){console.error("获取代币详情失败:",e),(0,j.oR)({title:"获取详情失败",description:"无法加载代币详情，请稍后再试",variant:"destructive"})}finally{P(!1)}}};return(0,l.useEffect)(()=>{_&&F&&D(!1)},[_,F]),(0,r.jsxs)("div",{className:"jsx-33f3c85ce50476d2 "+((0,b.cn)("min-h-screen",c?"bg-[#0b101a] text-white":"bg-white text-foreground")||""),children:[(0,r.jsx)("div",{className:"jsx-33f3c85ce50476d2 "+((0,b.cn)("sticky top-0 z-40 border-b p-2 backdrop-blur-md",c?"bg-card/80 border-border/20":"bg-card/70 border-border/10")||""),children:(0,r.jsxs)("div",{className:"jsx-33f3c85ce50476d2 flex items-center gap-2 max-w-md mx-auto px-2",children:[(0,r.jsx)(M(),{href:"/market",className:"flex-shrink-0",children:(0,r.jsx)(h.$,{variant:"ghost",size:"icon",className:(0,b.cn)("rounded-full w-8 h-8",c?"text-white/70 hover:text-white":"text-black/70 hover:text-black"),children:(0,r.jsx)(u.A,{className:"h-5 w-5"})})}),(0,r.jsxs)("div",{className:"jsx-33f3c85ce50476d2 flex items-center gap-1 mr-2",children:[(0,r.jsx)("div",{className:"jsx-33f3c85ce50476d2 relative w-5 h-5 rounded-full overflow-hidden bg-muted flex-shrink-0",children:$?(0,r.jsx)(v.default,{src:$,alt:T,width:20,height:20,className:"object-cover",onError:()=>R("/images/token-placeholder.png")}):(0,r.jsx)("div",{className:"jsx-33f3c85ce50476d2 "+((0,b.cn)("w-full h-full flex items-center justify-center text-[7px] font-medium text-white","bg-gradient-to-br from-blue-500 to-indigo-500")||""),children:(null==T?void 0:T.charAt(0))||"?"})}),(0,r.jsxs)("div",{className:"jsx-33f3c85ce50476d2 text-[9px] leading-none",children:[(0,r.jsx)("div",{className:"jsx-33f3c85ce50476d2 font-medium",children:T}),(0,r.jsxs)("div",{className:"jsx-33f3c85ce50476d2 flex items-center gap-0.5 mt-0.5",children:[(0,r.jsx)("span",{className:"jsx-33f3c85ce50476d2 "+((0,b.cn)("text-[7px]",U>=0?"text-green-500":"text-red-500")||""),children:U?"".concat(U>=0?"+":"").concat(U.toFixed(2),"%"):"0%"}),(0,r.jsx)("span",{className:"jsx-33f3c85ce50476d2 text-[7px] opacity-70",children:J?J<1e-6?"$".concat(J.toExponential(4)):J<1e-4?"$".concat(J.toFixed(8)):J<.01?"$".concat(J.toFixed(6)):J<1?"$".concat(J.toFixed(5)):J<1e3?"$".concat(J.toFixed(4)):"$".concat(J.toLocaleString(void 0,{maximumFractionDigits:2})):"$0.00"})]})]})]}),(0,r.jsx)("div",{className:"jsx-33f3c85ce50476d2 w-full",children:(0,r.jsx)(L.A,{isDark:c,showLogo:!1,simplified:!0,onResultSelect:e=>{e&&e.chain&&e.token&&t.push("/token/".concat(e.chain,"/").concat(e.token))},placeholder:"搜索其他代币..."})}),(0,r.jsx)(h.$,{variant:"ghost",size:"icon",className:"rounded-full w-8 h-8 flex-shrink-0",onClick:()=>{a(c?"light":"dark")},children:c?(0,r.jsx)(g.A,{className:"h-4 w-4"}):(0,r.jsx)(p.A,{className:"h-4 w-4"})})]})}),(0,r.jsx)("div",{className:"jsx-33f3c85ce50476d2 max-w-md mx-auto pb-16",children:(0,r.jsxs)("div",{className:"jsx-33f3c85ce50476d2 px-3 pt-2",children:[(0,r.jsx)(E,{tokenDetails:I,isLoading:O,darkMode:c,chain:_,address:F}),(0,r.jsxs)("div",{className:"jsx-33f3c85ce50476d2 flex-1 flex flex-col relative overflow-hidden rounded-lg border border-border/40 mb-2 mt-2",children:[(0,r.jsx)("div",{className:"jsx-33f3c85ce50476d2 "+((0,b.cn)("py-1 px-1 flex justify-center border-b",c?"border-gray-800":"border-gray-200")||""),children:(0,r.jsx)("div",{className:"jsx-33f3c85ce50476d2 flex gap-0.5 overflow-x-auto hide-scrollbar",children:["1m","5m","15m","1h","4h","1d","1w"].map(e=>(0,r.jsx)("button",{onClick:()=>N(e),className:"jsx-33f3c85ce50476d2 "+((0,b.cn)("px-2 py-0.5 text-xs rounded-md transition-colors",o===e?c?"bg-blue-600 text-white":"bg-blue-500 text-white":c?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-gray-100 text-gray-700 hover:bg-gray-200")||""),children:e},e))})}),(0,r.jsx)("div",{style:{height:"calc(100vw * 1.1)",maxHeight:"600px"},className:"jsx-33f3c85ce50476d2 chart-wrapper",children:(0,r.jsx)(d,{darkMode:c,tokenAddress:F,tokenChain:_,interval:w,subIndicator:G,onDataLoaded:()=>{D(!0)}},"chart-".concat(G))}),(0,r.jsx)("div",{className:"jsx-33f3c85ce50476d2 "+((0,b.cn)("py-0.75 px-2 flex justify-center border-t",c?"bg-gray-900 border-gray-800":"bg-gray-50 border-gray-200")||""),children:(0,r.jsx)("div",{className:"jsx-33f3c85ce50476d2 flex gap-2 flex-wrap justify-center",children:[{key:"VOL",label:"成交量"},{key:"MACD",label:"MACD"},{key:"KDJ",label:"KDJ"},{key:"RSI",label:"RSI"}].map(e=>(0,r.jsx)("button",{onClick:()=>H(e.key),className:"jsx-33f3c85ce50476d2 "+((0,b.cn)("px-3 py-1 rounded-md transition-colors text-xs",G===e.key?c?"bg-blue-600 text-white":"bg-blue-500 text-white":c?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-gray-100 text-gray-700 hover:bg-gray-200")||""),children:e.label},e.key))})})]}),(0,r.jsx)(X,{tokenAddress:F,chain:_,darkMode:c})]})}),(0,r.jsx)("div",{className:"jsx-33f3c85ce50476d2 fixed bottom-0 left-0 right-0 z-50",children:(0,r.jsx)(x.A,{darkMode:c})}),(0,r.jsx)(y.l,{}),(0,r.jsx)(n(),{id:"33f3c85ce50476d2",children:".hide-scrollbar::-webkit-scrollbar{display:none}.hide-scrollbar{-ms-overflow-style:none;scrollbar-width:none}.chart-wrapper{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.chart-wrapper>div{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;min-height:0}"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8258,582,6228,6276,1058,9698,8429,7466,4346,3601,11,9205,1925,9041,7827,6346,7358],()=>t(389)),_N_E=e.O()}]);